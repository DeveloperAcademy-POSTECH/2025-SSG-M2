ê¸°ì›
-> Robert C. Martinì´ ë§Œë“¤ì—ˆìŒ..ì´ì‚¬ëŒì´ ëˆ„êµ¬ëƒ?

ì• ìì¼ ë°©ë²•ë¡  , SOLID (ê°ì²´ì§€í–¥ ì„¤ê³„ì›ì¹™) ë“±ë“±ì˜ ì°½ì‹œìë¡œ ì•Œë ¤ì ¸ ìˆìŒ.
ë­ ê·¸ëƒ¥ ì¢‹ì€ê±´ ë‹¤ ë§Œë“¤ì—ˆìŒ

-> 'ì¶”ìƒí™” ê°œë…' **(Abstraction principle)** ìœ¼ë¡œì¨ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬ì‹œí‚¤ê³  ì˜ì¡´ë„ë¥¼ ë‚®ì¶”ëŠ” ê²ƒì— ëª©ì ì„ ë‘” ì•„í‚¤í…ì³ì„
(ì•„ë‹ˆ ê·¸ë˜ë„ ê·¸ê²Œ ë¨¼ë° ...)

ìì ì£¼ìƒë³µí•© ì•„íŒŒíŠ¸ë¡œ ë¹„ìœ ë¥¼ í•´ë³´ì!

- 1ì¸µ : ìƒê°€ (ì‚¬ìš©ìê°€ ì§ì ‘ ë§Œë‚˜ëŠ” ê³³)
- 2~10ì¸µ : ì£¼ê±°ê³µê°„ (í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ê°€ ëŒì•„ê°€ëŠ” ê³³)
- ì§€í•˜ : ê¸°ê³„ì‹¤, ì „ê¸°ì‹¤ (ë°ì´í„°ë² ì´ìŠ¤, ì™¸ë¶€ ì‹œìŠ¤í…œ)

ì´ë ‡ê²Œ ë³´ë©´ ê°œì‰¬ì›€ ã…‹ã…‹ã…‹

ì—¬ê¸°ì— ì•„íŒŒíŠ¸ ìœ„ì›íšŒì—ì„œ ì¸µê°„ ê·œì¹™ì„ ë§Œë“¤ì—ˆìŒ
1) ìœ„ì¸µì—ì„œ ì•„ë˜ì¸µìœ¼ë¡œë§Œ ì˜ì¡´ (ìƒê°€ì—ì„œ ì „ê¸°ë¥¼ ì“°ì§€ë§Œ, ì „ê¸°ì‹¤ì´ ìƒê°€ë¥¼ ì•Œ í•„ìš”ëŠ” ì—†ìŒ)
2) ê° ì¸µì€ ìê¸° ì¼ë§Œ ì§‘ì¤‘ (ìƒê°€ëŠ” ì†ë‹˜ ì‘ëŒ€, ê¸°ê³„ì‹¤ì€ ì „ê¸° ê³µê¸‰)

ì´ê²Œ í´ë¦° ì•„í‚¤í…ì³ì„ 
ë¬´ìŠ¨ ..xxì´ëŸ° ë²¤ë‹¤ì´ì–´ê·¸ë¨ ë³´ë©´ ëˆ„ê°€ ì´í•´ë¥¼ í•¨ ..(ê°œë°œ ê³ ìˆ˜ë“¤ì€ ì´í•´í• ì§€ë„ ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹)
![[Pasted image 20250724195726.png]]

ìì ê·¸ëŸ¼ ìœ„ ì•„íŒŒíŠ¸ë¥¼ ì‹¤ì œ ê°œë°œë¡œ ë°”ê¿”ë³´ë©´

- UIì¸µ : í™”ë©´ ë³´ì—¬ì£¼ê¸°ë§Œ
- ë¹„ì¦ˆë‹ˆìŠ¤ì¸µ: í•µì‹¬ ë¡œì§ë§Œ
- ë°ì´í„°ì¸µ : ì €ì¥/ì¡°íšŒë§Œ
  
  ì´ë ‡ê²Œ ë˜ëŠ” ê±°ì„, ===ì—¬ê¸°ì„œ ì˜ì¡´ë„ë¥¼ ë‚®ì¶˜ë‹¤ ë¼ëŠ” ê°œë…ìœ¼ë¡œ ê°€ë©´.
  í•œ ì¸µì´ ë°”ë€Œì–´ë„ ë‹¤ë¥¸ ì¸µì— ì˜í–¥ ìµœì†Œí™”===

1) ë°ì´í„°ë² ì´ìŠ¤ë¥¼ MySQLì—ì„œ MongoDBë¡œ ë°”ê¿”ë„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ê·¸ëŒ€ë¡œ
2) UIë¥¼ ì›¹ì—ì„œ ëª¨ë°”ì¼ ì•±ìœ¼ë¡œ ë°”ê¿”ë„ í•µì‹¬ ê¸°ëŠ¥ì€ ê·¸ëŒ€ë¡œ

ê·¸ëŸ¼ ..ì´ê±¸ ì™œ ì¨ì•¼í•¨?

- ìˆ˜ì •í•˜ê¸° ì‰¬ì›Œì§ (í•œ ë¶€ë¶„ë§Œ ë°”ê¾¸ë©´ ë¨)
- í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ì›Œì§ (ê° ì¸µì„ ë”°ë¡œ í…ŒìŠ¤íŠ¸)
- ì—¬ëŸ¬ ì‚¬ëŒì´ ë™ì‹œì— ì‘ì—… ê°€ëŠ¥ (ì¸µë³„ë¡œ ë¶„ë‹´)
  
  ì´ë ‡ê²Œ ë˜ëŠ” ê±°ì„ ..ê·¼ë° ê²ƒë§Œ ë³´ë©´ ì´í•´ë¥¼ í•˜ê¸° ì•„ì§ë„ ì–´ë ¤ì›€
  ì‹¤ì œ C4 ì˜ˆì‹œë¥¼ ë³´ì—¬ ë“œë¦¬ê² ìŒ.
  
   ![[Pasted image 20250724201243.png]]

-> ì €í¬ íŒ€ í´ë” êµ¬ì¡° ì…ë‹ˆë‹¤.

CodePlayë¼ëŠ” 3ì¸µ ì§œë¦¬ ì§‘ì´ ìˆë‹¤ë©´

3ì¸µ (Presentation) : ì‚¬ëŒë“¤ì´ ì‹¤ì œë¡œ ë³´ê³  ë§Œì§€ëŠ” ê³³ 
2ì¸µ (Domain) : ì§‘ì˜ í•µì‹¬ ê¸°ëŠ¥ë“¤ (ì „ê¸°, ìˆ˜ë„ ë“±) 
1ì¸µ (Data) : ê¸°ì´ˆ í† ëª© ê³µì‚¬, ì¬ë£Œ ì €ì¥ì†Œ

ì´ë¼ê³  ìƒê° í•˜ë©´ ë©ë‹ˆë‹¤.

------------------------------------------------------------------


- 3ì¸µ : Presentation Layer (ì‚¬ìš©ìê°€ ë³´ëŠ” í™”ë©´)

![[Pasted image 20250724201536.png]]

ê·¼ë° ì—´ë¼ ì§œì¦ë‚˜ëŠ”ê²Œ Presentation ì—´ë©´ ë°”ë¡œ View ë‚˜ì˜¬ê±° ê°™ì§€ë§Œ
ì‹¤ì œë¡œëŠ” ì´ë ‡ê²Œ ë‚˜ì˜´ ê·¸ëŸ¼ ì—¬ê¸°ì„œ 

í´ë” ë“¤ì€ ì™œ ì €ë ‡ê²Œ ë‚˜ëˆ„ëƒ?

===Factoryê°€ ë­ê³ 
SceneëŠ” ë­ê³ 
Utils ëŠ” ë­ëƒ ..===


- ë§Œì•½ ì´ë ‡ê²Œ ë‚˜ëˆ„ê¸° ì•Šê³  Viewì—ì„œ ì§ì ‘ ViewModelì„ë§Œë“¤ë©´ (í° í”„ë¡œì íŠ¸ ê¸°ì¤€)

``` swift
// âŒ Viewì—ì„œ ì§ì ‘ ë§Œë“œëŠ” ê²½ìš°
struct SomeView: View {
    var body: some View {
        // ğŸ˜± Viewê°€ ë„ˆë¬´ ë§ì€ ê±¸ ì•Œê³  ìˆì–´ì•¼ í•¨
        let repository = DefaultScanPosterRepository()
        let useCase = DefaultScanPosterUseCase(repository: repository)
        let viewModel = DefaultPosterViewModel(scanPosterUseCase: useCase)
        
        MainPosterView()
            .environmentObject(PosterViewModelWrapper(viewModel: viewModel))
    }
}
```

ê·¼ë° Factoryê°€ ìˆë‹¤ë©´

```swift
// âœ… Factory ì‚¬ìš©
struct SomeView: View {
    let factory: MainFactory
    
    var body: some View {
        factory.mainPosterView()  // í•œ ì¤„ë¡œ ë!
    }
}
```

ì´ë ‡ê²Œ ëì´ë‹¤..ã„·ã„·

ì¦‰, Factoryì˜ ì—­í• ì€ = ì¡°ë¦½ ì—­í• ì„
- ViewëŠ” "í¬ìŠ¤í„° í™”ë©´ ì¤˜" ë¼ê³ ë§Œ ìš”ì²­ í•˜ê³ 
- Factoryê°€ ì•Œì•„ì„œ ViewModle, UseCase, Repositoryë‹¤ ë§Œë“¤ì–´ì„œ ì¡°ë¦½
- ViewëŠ” ë³µì¡í•œ ì˜ì¡´ì„± ëª°ë¼ë„ ë˜ëŠ” ê±°ì„

ì‹¤ì œ ì œê°€ C4ì—ì„œ ì‚¬ìš© í–ˆë˜ íŒŒì¼ì„ ë³´ë©´

```swift
// MainFactory.swift
final class DefaultMainFactory: MainFactory {
    private let posterViewModelWrapper: PosterViewModelWrapper
    private let musicViewModelWrapper: MusicViewModelWrapper
    
    // ì´ë¯¸ ì¡°ë¦½ëœ ë¶€í’ˆë“¤ì„ ë°›ì•„ì„œ ì €ì¥
    init(posterViewModelWrapper: PosterViewModelWrapper, 
         musicViewModelWrapper: MusicViewModelWrapper, 
         diContainer: MainSceneDIContainer) {
        self.posterViewModelWrapper = posterViewModelWrapper
        self.musicViewModelWrapper = musicViewModelWrapper
    }
    
    // "í¬ìŠ¤í„° í™”ë©´ ì¤˜!" ìš”ì²­ì´ ì˜¤ë©´
    func mainPosterView() -> AnyView {
        return AnyView(MainPosterView()  // View ë§Œë“¤ê³ 
            .environmentObject(posterViewModelWrapper))  // ViewModel ì—°ê²°
    }
    
    // "ìŒì•… í™”ë©´ ì¤˜!" ìš”ì²­ì´ ì˜¤ë©´
    func mainMusicView() -> AnyView {
        return AnyView(AppleMusicConnectView()  // View ë§Œë“¤ê³ 
            .environmentObject(musicViewModelWrapper))  // ViewModel ì—°ê²°
    }
}
```

ì£¼ì„ìœ¼ë¡œ ì²˜ë¦¬í•´ ë‘ì—ˆìŒ. (ê°€ì ¸ì˜¤ëŠ” íŒŒì¼ë“¤ì´ ìˆëŠ” ê²ƒì„)
ë¯¸ë¦¬ View ì™€ ViewModelì„ ë§Œë“¤ì–´ ë‘ê³  Viewì—ëŠ” ì£¼ê¸°ë§Œ í•˜ë©´ ë˜ëŠ”ê±°ì„
ê·¸ Factoryì—ëŠ” Domain, Dataë„ í¬í•¨ ë˜ì–´ ìˆìŒ


ì ê·¼ë° ì—¬ê¸°ì„œ ì¤‘ìš”í•¨ ...ê·¸ëŸ¼ Domain, Dataì˜ ê°’ì€ ì–´ë””ì„œ ê°€ì ¸ ì˜¬ê¹Œ?
Viewmodelì´ ê°€ì ¸ì˜¤ëŠ” ê±°ì„

**"ViewModel = DI Containerê°€ ë§Œë“  ë¶€í’ˆë“¤ì„ ì¡°ë¦½ë°›ì€ ì™„ì„±í’ˆ"**

- ViewModel ìì²´ëŠ” ì•„ë¬´ê²ƒë„ ë§Œë“¤ì§€ ì•ŠìŒ
- DI Containerì—ì„œ í•„ìš”í•œ ëª¨ë“  ê±¸ ë°›ì•„ì˜´
- ë°›ì€ ê²ƒë“¤ì„ ì‚¬ìš©í•´ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬

**"Factory = ì™„ì„±í’ˆì„ Viewì— ë°°ë‹¬í•˜ëŠ” ë°°ë‹¬ì›"**

- ViewModel(ì™„ì„±í’ˆ)ì„ Viewì—ê²Œ ì „ë‹¬ë§Œ í•¨
- ì™„ì„±í’ˆì´ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì¡ŒëŠ”ì§€ëŠ” ëª¨ë¦„ ê·¸ëƒ¥ ë°›ê¸°ë§Œ í•¨ ã…‹ã…‹ã…‹ã…‹

ì´ê²Œ ë°”ë¡œ ===Clean Architecture===ì˜ ì¥ì ì„



**ì˜ì¡´ì„± ì£¼ì…ì˜ í•µì‹¬**

DI Container (ìƒìœ„) 
	â†“ "ë„ˆí•œí…Œ í•„ìš”í•œ UseCase ì¤„ê²Œ" 
ViewModel (í•˜ìœ„) 

UseCaseë„ ë§ˆì°¬ê°€ì§€ë¡œ: 
DI Container (ìƒìœ„) 
	â†“ "ë„ˆí•œí…Œ í•„ìš”í•œ Repository ì¤„ê²Œ" 
UseCase (í•˜ìœ„)

ì´ë ‡ê²Œ ë˜ëŠ”ê±°ì„


ìì ê·¸ëŸ¼ ì •ë¦¬í•˜ë©´ Factoryì˜ ê¸°ëŠ¥ì„ ì •ë¦¬í•˜ë©´

1) ë³µì¡í•œ ì¡°ë¦½ ê³¼ì •ì„ ìˆ¨ê²¨ì¤Œ
2) ViewëŠ” ë‹¨ìˆœí•˜ê²Œ í™”ë©´ë§Œ ìš”ì²­
3) ì¡°ë¦½ ë°©ë²•ì´ ë°”ë€Œì–´ë„ ViewëŠ” ëª°ë¼ë„ ë¨



## Scene (ì•±ì˜ ì£¼ìš” ê¸°ëŠ¥ë³„ í™”ë©´)
-> ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ë³´ê³  ìƒí˜¸ì‘ìš©í•˜ëŠ” ëª¨ë“  ê²ƒ

1) í™”ë©´ì— ë¬´ì—‡ì„ í‘œì‹œí• ì§€
2) ì‚¬ìš©ìê°€ ì–´ë–¤ í–‰ë™ì„ í•  ìˆ˜ ìˆëŠ”ì§€
3) ì–´ë–¤ ìˆœì„œë¡œ í™”ë©´ì´ ì „í™˜ë˜ëŠ”ì§€
4) ì‚¬ìš©ìì—ê²Œ ì–´ë–¤ í”¼ë“œë°±ì„ ì¤„ì§€

ì™€ ê°™ì´ ì‚¬ìš©ìê°€ ì•±ì„ ì“¸ ë•Œ ë³´ê³  ë§Œì§€ëŠ” ëª¨ë“  ê²ƒë“¤ ì´ë¼ê³  ìƒê° í•˜ë©´ ë©ë‹ˆë‹¤.

- ì‚¬ìš©ìëŠ” Domain/Dataê°€ ë¨¼ì§€ ì•Œí•„ìš” ì—†ìŒ
- Sceneì„ í†µí•´ì„œë§Œ ì•±ê³¼ ìƒí˜¸ì‘ìš©
ë‹¤ì‹œ ë§í•´ ì˜¨ì „íˆ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ê³³ì„



## Utils (ë„êµ¬ìƒì)

-> ê°™ì€ UIë¥¼ ì—¬ëŸ¬ ê³³ì—ì„œ ì¨ì•¼ í•  ë•Œ

```swift
// âŒ ê° í™”ë©´ë§ˆë‹¤ ë˜‘ê°™ì€ ë²„íŠ¼ ì½”ë“œ ë³µì‚¬-ë¶™ì—¬ë„£ê¸°
struct Screen1: View {
    var body: some View {
        Button(action: { /* ì•¡ì…˜ */ }) {
            Text("í™•ì¸")
                .foregroundStyle(.white)
                .padding(.horizontal, 87)
                .padding(.vertical, 18)
                .background(Color.blue)
                .cornerRadius(999)
        }
    }
}

struct Screen2: View {
    var body: some View {
        Button(action: { /* ì•¡ì…˜ */ }) {
            Text("ë‹¤ìŒ")
                .foregroundStyle(.white)
                .padding(.horizontal, 87)  // ë˜‘ê°™ì€ ì½”ë“œ ë°˜ë³µ...
                .padding(.vertical, 18)
                .cornerRadius(999)
        }
    }
}
```

ê·¼ë° ë§Œì•½ Utilsë¥¼ ì‚¬ìš© í•˜ë©´

```swift
// âœ… Utilsì—ì„œ ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
struct Screen1: View {
    var body: some View {
        BottomButton(title: "í™•ì¸") { /* ì•¡ì…˜ */ }
    }
}

struct Screen2: View {
    var body: some View {
        BottomButton(title: "ë‹¤ìŒ") { /* ì•¡ì…˜ */ }
    }
}
```

ì´ë ‡ê²Œ ëë‚¨ (ì‚¬ì‹¤ì´ê±´ ì‰¬ìš´ë“¯ ì»´í¬ë„ŒíŠ¸ë¥¼ ì—¬ê¸°ë‹¤ ë„£ëŠ”ë‹¤ê³  ìƒê° í•˜ë©´ ë¨)

1) UI ì»´í¬ë„ŒíŠ¸
2) Extension (ê¸°ëŠ¥í™•ì¥)
3) ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ 

ì´ëŸ° ê¸°ëŠ¥ ë“¤ì´ê³  ê·¸ëƒ¥ í•œë²ˆ ë§Œë“¤ì–´ì„œ ì—¬ëŸ¬ë²ˆ ì“´ë‹¤ê³  ìƒê° í•˜ë©´ ë¨


------------------------------------------------------------------

# Domain Layer 

-> 


![[Pasted image 20250724212335.png]]

![[Pasted image 20250724212400.png]]

2íƒ„ì—ì„œ ì´ì–´ì§ˆ ì˜ˆì •