### **개념**

- DispatchQueue.main.async는 **메인 스레드에서 작업을 비동기적으로 실행**하는 코드 블록
    
- **UI 업데이트나 ARKit, SwiftUI, UIKit 작업**은 반드시 메인 스레드에서 실행되어야 하므로 필수
    
- 현재 작업이 **백그라운드 스레드**에서 수행 중이라면, 이 코드를 통해 **메인 스레드로 안전하게 전환**
    

---

### **문법**

```
DispatchQueue.main.async {
    // 메인 스레드에서 실행할 코드
}
```

---

### **언제 사용할까*

| **사용 상황**          | **설명**                                                 |
| ------------------ | ------------------------------------------------------ |
| 비동기 작업 후 UI 업데이트   | 백그라운드에서 네트워크/이미지 처리 등을 한 뒤 UI 요소 수정                    |
| 센서나 delegate 콜백 처리 | CoreMotion, ARKit 등에서 받은 값을 기반으로 UI나 RealityKit 엔티티 조작 |
| 애니메이션, 화면 전환       | 화면 전환, 뷰 추가/제거 등 UIKit/SwiftUI 관련 코드 실행 시              |

---

### **주의할 점**

- UI 작업은 반드시 메인 스레드에서만 실행 가능
    
- DispatchQueue.global()로 비동기 작업을 한 후 반드시 DispatchQueue.main.async로 UI 코드를 감쌀 것
    

---
